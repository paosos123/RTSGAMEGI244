roFeedback__inline:r}=this.props.managedClasses;return super.generateClassNames((0,D.A)(e,[t,this.props.vertical],[r,this.props.inline]))}renderVoteButton(e,t){const r={style:{pointerEvents:"none"}};let n,i,s,l;"like"===e?(n=this.props.likeButtonTitle,i=this.likeFollowUpId,l=this.state.likeButtonRef,s="like"===this.state.vote?o.createElement(Z,Object.assign({},r)):o.createElement(W,Object.assign({},r))):(n=this.props.dislikeButtonTitle,i=this.dislikeFollowUpId,l=this.state.dislikeButtonRef,s="dislike"===this.state.vote?o.createElement(V,Object.assign({},r)):o.createElement(U,Object.assign({},r)));const c=t?{"aria-controls":i}:{},u={button:{"min-width":(0,N.Cb)(),"max-width":"unset",padding:"0",margin:"0",width:(0,N.Cb)(),height:(0,N.Cb)()}};return o.createElement(a.XC,Object.assign({jssStyleSheet:u,title:n,onClick:()=>{this.showThanks(t,e),this.vote(e)},innerRef:l,"aria-pressed":this.state.vote===e},c),s)}vote(e){const{sendFeedback:t}=this.props,{vote:r}=this.state,o=r===e?"no_vote":e;this.setState({vote:o}),"no_vote"!==o?(t&&t(o),this.setState({isFollowUpVisible:!0})):this.setState({isFollowUpVisible:!1})}showThanks(e,t){this.state.isThanksVisible&&this.onThanksDismiss(),e||this.state.vote===t||this.onShowThanks()}calculateToastLength(e){return Math.max(2e3,500*e.split(/\s+/).length)}onShowThanks(){const{thanksText:e}=this.props;e&&(this.setState({isThanksVisible:!0}),this.timerHandle=setTimeout(this.hideThanksMessage.bind(this),this.calculateToastLength(e)))}hideThanksMessage(){this.setState({isThanksVisible:!1})}onThanksDismiss(){clearTimeout(this.timerHandle),this.hideThanksMessage()}getButtonAnchor(){const{vote:e}=this.state;return"like"===e?this.state.likeButtonRef:this.state.dislikeButtonRef}renderThankYou(){const{thanksText:e}=this.props,{isThanksVisible:t}=this.state,r=this.getButtonAnchor();if(e&&t){const t=(0,K.Z)("thanksText");return o.createElement(re,Object.assign({hideBeak:!0,anchor:r,"aria-labelledby":t},this.getCalloutPositioningModes(),{defaultVerticalPosition:this.props.defaultVerticalPosition,verticalLockToDefault:this.props.verticalLockToDefault,shouldUseNoObserverMode:this.props.shouldUseNoObserverMode,scaleToFit:this.props.scaleToFit,maxHeight:this.props.followUpMaxHeight,maxWidth:this.props.followUpMaxWidth,horizontalAlwaysInView:this.props.followupHorizontalAlwaysInView,verticalAlwaysInView:this.props.followupVerticalAlwaysInView,"aria-live":"assertive",role:"alert"}),o.createElement(s.ZT,{id:t,size:l.H._7,jssStyleSheet:oe},e))}return o.createElement(o.Fragment,null)}renderFollowUp(){const{likeFollowUp:e,dislikeFollowUp:t,renderFollowUp:r}=this.props,{vote:n,isFollowUpVisible:i}=this.state;let a=this.state.likeButtonRef,s=e,l=this.likeFollowUpId;return"dislike"===n&&(a=this.state.dislikeButtonRef,s=t,l=this.dislikeFollowUpId),i&&s?r?r(a,l,s):this.renderDefaultFollowUp(a,l,s):o.createElement(o.Fragment,null)}onHideFollowUp(){const e=this.getButtonAnchor();this.setState({isFollowUpVisible:!1},(()=>{if(e&&e.current){const t=n.findDOMNode(e.current);t&&t instanceof HTMLElement&&t.focus()}}))}renderDefaultFollowUp(e,t,r){const{sendFollowUpIndex:i,onFollowUpCancelled:a}=this.props,{microFeedback_callout:s}=this.props.managedClasses,l=(e,t)=>{e.preventDefault(),this.onHideFollowUp(),void 0!==t&&r&&(i&&i(r.type,t),this.onShowThanks())},d=(0,K.Z)("followup-heading");return o.createElement(re,Object.assign({className:s,id:t,onDismiss:()=>{if(a&&(a(this.state.vote),e&&e.current)){const t=n.findDOMNode(e.current);t&&t instanceof HTMLElement&&t.focus()}this.onHideFollowUp()},anchor:e,role:"group","aria-labelledby":d,defaultVerticalPosition:this.props.defaultVerticalPosition,verticalLockToDefault:this.props.verticalLockToDefault,shouldUseNoObserverMode:this.props.shouldUseNoObser